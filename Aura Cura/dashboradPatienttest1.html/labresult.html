<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab Results</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      background-color: rgba(33, 66, 177, .5);
    }

    .sidebar {
      height: 100%;
      width: 250px;
      position: fixed;
      top: 0;
      left: 0;
      background-color: #f8f9fa;
      padding-top: 20px;
    }

    .sidebar a {
      padding: 15px 20px;
      text-decoration: none;
      font-size: 18px;
      color: black;
      display: block;
      border-bottom: 1px solid #ddd;
    }

    .sidebar a:hover {
      background-color: #ddd;
    }

    .main-content {
      margin-left: 270px;
      padding: 20px;
    }

    .content-box {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      max-width: 800px;
      margin: 0 auto; /* To center the section */
    }

    .btn-group-toggle {
      margin-bottom: 20px;
      text-align: center; /* Center the buttons */
    }

    .results-list {
      display: none;
    }

    .results-list.active {
      display: block;
    }

    .result-item {
      padding: 10px;
      border-bottom: 1px solid #ddd;
    }

    .result-item:last-child {
      border-bottom: none;
    }

    .result-title {
      font-weight: bold;
    }

    .result-status {
      font-size: 14px;
      color: #888;
    }

    .powered-by {
      text-align: center;
      margin-top: 40px;
      color: #888;
    }

    .normal-range {
      font-size: 12px;
      color: #555;
    }

    .btn.active {
      background-color: #007bff;
      color: white;
    }

    /* Align Clear Search button with the search fields */
    .search-section {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .search-section .form-control {
      width: 48%;
    }

  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h4 class="text-center">Menu</h4>
    <a href="#profile">Profile</a>
    <a href="#edit-profile">Edit Profile</a>
    <a href="#appointments">Appointments</a>
    <a href="#lab-results">Lab Results</a>
    <a href="#messages">Messages</a>
    <a href="#logout">Logout</a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="content-box">
      <h4>Your Laboratory Orders / Results</h4>

      <!-- Search by Date and Test Name -->
      <div class="search-section mb-4">
        <input type="date" id="search-date" class="form-control" onchange="searchByDate()" placeholder="Search by Order Date">
        <input type="text" id="search-name" class="form-control" placeholder="Search by Test Name" onkeyup="searchByName()">
        <button class="btn btn-secondary ml-3" onclick="clearSearch()">Clear Search</button>
      </div>

      <!-- Pending / Complete Tabs Centered -->
      <div class="btn-group btn-group-toggle text-center" data-toggle="buttons">
        <label class="btn btn-outline-primary active" id="pending-tab" onclick="showPending()">
          <input type="radio" name="options" autocomplete="off"> Pending
        </label>
        <label class="btn btn-outline-primary" id="complete-tab" onclick="showComplete()">
          <input type="radio" name="options" autocomplete="off"> Complete
        </label>
      </div>

      <!-- Pending Results Section -->
      <div class="results-section results-list active" id="pending-results">
        <div class="result-item" data-test="Blood Test" data-date="2024-03-10">
          <div class="result-title">Blood Test</div>
          <div class="result-status">Status: Pending | Ordered on: 2024-03-10</div>
        </div>
        <div class="result-item" data-test="Urine Test" data-date="2024-03-11">
          <div class="result-title">Urine Test</div>
          <div class="result-status">Status: Pending | Ordered on: 2024-03-11</div>
        </div>
      </div>

      <!-- Complete Results Section -->
      <div class="results-section results-list" id="complete-results">
        <div class="result-item" data-test="Blood Sugar Test" data-date="2024-03-01">
          <div class="result-title">Blood Sugar Test</div>
          <div class="result-status">Status: Complete | Result: Normal | Ordered on: 2024-03-01</div>
          <div class="normal-range">Normal Range: 70-100 mg/dL</div>
          <div class="result-status">Result Available on: 2024-03-05</div>
        </div>
        <div class="result-item" data-test="Liver Function Test" data-date="2024-03-02">
          <div class="result-title">Liver Function Test</div>
          <div class="result-status">Status: Complete | Result: Elevated | Ordered on: 2024-03-02</div>
          <div class="normal-range">Normal Range: 7-56 U/L</div>
          <div class="result-status">Result Available on: 2024-03-06</div>
        </div>
        <div class="result-item" data-test="COVID-19 Test" data-date="2024-03-03">
          <div class="result-title">COVID-19 Test</div>
          <div class="result-status">Status: Complete | Result: Negative | Ordered on: 2024-03-03</div>
          <div class="normal-range">Normal Range: Negative</div>
          <div class="result-status">Result Available on: 2024-03-07</div>
        </div>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <div class="powered-by">
    Powered by Duha Odat Â© 2024 All Rights Reserved.
  </div>

  <script>
    function showPending() {
      document.getElementById('pending-results').classList.add('active');
      document.getElementById('complete-results').classList.remove('active');
      document.getElementById('pending-tab').classList.add('active');
      document.getElementById('complete-tab').classList.remove('active');
    }

    function showComplete() {
      document.getElementById('complete-results').classList.add('active');
      document.getElementById('pending-results').classList.remove('active');
      document.getElementById('complete-tab').classList.add('active');
      document.getElementById('pending-tab').classList.remove('active');
    }

    function searchByDate() {
      let inputDate = document.getElementById('search-date').value;
      let pendingResults = document.getElementById('pending-results').getElementsByClassName('result-item');
      let completeResults = document.getElementById('complete-results').getElementsByClassName('result-item');

      // Filter pending results by date
      for (let i = 0; i < pendingResults.length; i++) {
        let testDate = pendingResults[i].getAttribute('data-date');
        if (testDate === inputDate) {
          pendingResults[i].style.display = '';
        } else {
          pendingResults[i].style.display = 'none';
        }
      }

      // Filter complete results by date
      for (let i = 0; i < completeResults.length; i++) {
        let testDate = completeResults[i].getAttribute('data-date');
        if (testDate === inputDate) {
          completeResults[i].style.display = '';
        } else {
          completeResults[i].style.display = 'none';
        }
      }
    }

    function searchByName() {
      let inputName = document.getElementById('search-name').value.toLowerCase();
      let pendingResults = document.getElementById('pending-results').getElementsByClassName('result-item');
      let completeResults = document.getElementById('complete-results').getElementsByClassName('result-item');

      // Filter pending results by test name
      for (let i = 0; i < pendingResults.length; i++) {
        let testName = pendingResults[i].getAttribute('data-test').toLowerCase();
        if (testName.includes(inputName)) {
          pendingResults[i].style.display = '';
        } else {
          pendingResults[i].style.display = 'none';
        }
      }

      // Filter complete results by test name
      for (let i = 0; i < completeResults.length; i++) {
        let testName = completeResults[i].getAttribute('data-test').toLowerCase();
        if (testName.includes(inputName)) {
          completeResults[i].style.display = '';
        } else {
          completeResults[i].style.display = 'none';
        }
      }
    }

    function clearSearch() {
      // Clear search fields
      document.getElementById('search-date').value = '';
      document.getElementById('search-name').value = '';

      // Reset all results
      let pendingResults = document.getElementById('pending-results').getElementsByClassName('result-item');
      let completeResults = document.getElementById('complete-results').getElementsByClassName('result-item');

      // Show all pending results
      for (let i = 0; i < pendingResults.length; i++) {
        pendingResults[i].style.display = '';
      }

      // Show all complete results
      for (let i = 0; i < completeResults.length; i++) {
        completeResults[i].style.display = '';
      }
    }
  </script>

</body>
</html>
